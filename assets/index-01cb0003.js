import{_ as y,u as g,e as k,U as h,g as P,o,c as a,F as f,r as m,a as e,t as l,w as I,b as v,l as x,j as w}from"./index-a881bc94.js";const C={setup(){const t=g();return k(()=>{t.initializeLocale()}),{translate:d=>x(()=>t.translate(d)).value}},data(){return{references:null,isPopupOpen:!1,username:"",currentItem:null}},methods:{async openPopup(t){this.username=t.username,this.isPopupOpen=!0,this.currentItem=t,console.log(t,"Naber"),console.log(this.references)},closePopup(){this.username="",this.currentItem=null,this.isPopupOpen=!1},async sendMoney(){console.log(this.currentItem);let t=this.$refs.amount.value;if(console.log(t),!(!t&&t<=0&&!this.currentItem)){try{console.log("here");let n=h.sendToRef({amount:t,friend_id:this.currentItem.id});this.closePopup()}catch(n){console.log(n)}this.currentItem=null}}},async created(){try{this.references=(await h.refdetail()).data}catch{console.log("Error amk error")}}},M={key:0},N={class:"table-row table-head"},O={class:"table-cell first-cell"},S={class:"table-cell"},B={class:"table-cell last-cell"},L={class:"table-cell last-cell"},V={class:"table-cell first-cell"},E={class:"table-cell"},F={class:"table-cell"},U={href:""},j={class:"table-cell last-cell"},z={key:0,class:"popup"},D={class:"content"},R={class:"info"},T=["placeholder"],q={class:"buttons"},A={type:"submit"};function G(t,n,d,s,i,r){const b=P("ion-icon");return i.references?(o(),a("main",M,[(o(!0),a(f,null,m(i.references,(c,_)=>(o(),a("div",{class:"table-box",key:_},[e("h5",null,[e("a",null,l(s.translate("reference").value[0])+" "+l(_),1)]),e("div",N,[e("div",O,[e("p",null,l(s.translate("reference").value[1]),1)]),e("div",S,[e("p",null,l(s.translate("reference").value[2]),1)]),e("div",B,[e("p",null,l(s.translate("reference").value[3]),1)]),e("div",L,[e("p",null,l(s.translate("reference").value[4]),1)])]),(o(!0),a(f,null,m(c,(u,p)=>(o(),a("div",{class:"table-row",key:p},[e("div",V,[e("p",null,l(p+1)+"."+l(u.username),1)]),e("div",E,[e("p",null,l(u.email),1)]),e("div",F,[e("a",U,l(s.translate("reference").value[3]),1)]),e("div",j,[w(b,{onClick:H=>r.openPopup(u),name:"cash-outline"},null,8,["onClick"])])]))),128))]))),128)),i.isPopupOpen?(o(),a("div",z,[e("form",{onSubmit:n[1]||(n[1]=I((...c)=>r.sendMoney&&r.sendMoney(...c),["prevent"]))},[e("div",D,[e("h2",null,l(s.translate("reference").value[5]),1),e("div",R,[e("input",{type:"number",ref:"amount",min:"0",placeholder:s.translate("reference").value[6]},null,8,T)]),e("div",q,[e("button",A,l(s.translate("reference").value[7]),1),e("button",{type:"button",onClick:n[0]||(n[0]=(...c)=>r.closePopup&&r.closePopup(...c))},l(s.translate("reference").value[8]),1)])])],32)])):v("",!0)])):v("",!0)}const Q=y(C,[["render",G],["__scopeId","data-v-d9bbe4b1"]]);export{Q as default};
