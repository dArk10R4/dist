import{_ as g,o,c as r,a as e,b as l,t as a,j as i,k as c,h as u,n as d,u as f,U as v,f as h,R as p,p as k,d as m}from"./index-a881bc94.js";import{P as M}from"./PackageService-9360898a.js";const y=t=>(k("data-v-0631dda8"),t=t(),m(),t),b={key:0,class:"profile"},w={class:"image"},S=["src"],P={class:"name"},T=y(()=>e("span",null,"Crypto & Miner",-1)),E={class:"stats"},R={class:"stat"},j={class:"stat"},C={class:"stat"},I={class:"buttons"},N={class:"bg_color"},V={class:"bg_color"},X={key:1,class:"wallet"},B={class:"balance bg_color"},L={class:"balance bg_color"},O={style:{"text-align":"center"}},U={key:2,class:"success-message"},z={key:3,class:"error-message"},D={computed:{translate(){const t=f();return t.initializeLocale(),s=>t.translate(s)}},data(){return{user:null,showSuccessMessage:!1,successMessage:"",showErrorMessage:!1,errorMessage:"",totalPackages:0,totalMoney:0,activePackages:null}},methods:{async transferMoney(){try{const s=await v.transfer({});this.successMessage="Transfer succesfull",this.showSuccessMessage=!0,setTimeout(()=>{this.showSuccessMessage=!1},5e3)}catch(s){s.response.status===400&&(this.errorMessage=s.response.data.error,this.showErrorMessage=!0,setTimeout(()=>{this.showErrorMessage=!1},5e3))}const t=h();await t.fill(),this.user=t.user}},async created(){const t=h();await t.fill(),this.user=t.user,console.log(this.user),this.activePackages=(await M.active_packages()).data,this.totalPackages=Object.keys(this.activePackages).length,Object.values(this.activePackages).forEach(s=>{this.totalMoney+=s.package.price})}},q=Object.assign(D,{__name:"index",setup(t){return(s,n)=>(o(),r("main",null,[s.user?(o(),r("div",b,[e("div",w,[s.user?(o(),r("img",{key:0,width:"150",src:s.user.image,alt:""},null,8,S)):l("",!0)]),e("div",P,[e("span",null,a(s.user.username),1),T]),e("div",E,[e("div",R,[e("span",null,a(s.translate("profile").value[5]),1),e("span",null,a(s.totalPackages),1)]),e("div",j,[e("span",null,a(s.translate("profile").value[6]),1),e("span",null,a(s.user.balance_f)+" TRX",1)]),e("div",C,[e("span",null,a(s.translate("profile").value[7]),1),e("span",null,a(s.totalMoney)+" TRX",1)])])])):l("",!0),e("div",I,[e("button",N,[i(d(p),{to:"/deposit"},{default:c(()=>[u(a(s.translate("profile").value[0]),1)]),_:1})]),e("button",V,[i(d(p),{to:"/withdraw"},{default:c(()=>[u(a(s.translate("profile").value[1]),1)]),_:1})])]),s.user?(o(),r("div",X,[e("div",B,[e("span",null,a(s.translate("profile").value[2]),1),e("span",null,a(s.user.balance_f)+" TRX",1)]),e("div",L,[e("span",null,a(s.translate("profile").value[3]),1),e("span",null,a(s.user.balance_r)+" TRX",1)])])):l("",!0),e("div",O,[e("button",{onClick:n[0]||(n[0]=(..._)=>s.transferMoney&&s.transferMoney(..._)),class:"transferbutton"},a(s.translate("profile").value[4]),1)]),s.showSuccessMessage?(o(),r("div",U,a(s.successMessage),1)):l("",!0),s.showErrorMessage?(o(),r("div",z,a(s.errorMessage),1)):l("",!0)]))}}),G=g(q,[["__scopeId","data-v-0631dda8"]]);export{G as default};
